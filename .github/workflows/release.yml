name: Release

on:
  push:
    tags:
      - "v*"

permissions:
  contents: write

jobs:
  create-release:
    runs-on: ubuntu-latest
    
    steps:
      - name: Checkout code
        uses: actions/checkout@v4
      
      - name: Create Release
        uses: softprops/action-gh-release@v1
        with:
          name: The Cognisphere ${{ github.ref_name }}
          body: |
            # The Cognisphere ${{ github.ref_name }}
            
            ## ğŸ‰ Environmental Stimuli System Release
            
            ### Major Features
            - âœ… Real-world data ingestion from RSS feeds and APIs
            - âœ… Cultural mirroring and divergence mechanics (70% mirroring, 1% divergence)
            - âœ… Environmental stimuli processing with sentiment analysis
            - âœ… Complete API endpoints for monitoring and control
            - âœ… Beautiful frontend dashboard with real-time visualization
            - âœ… CI/CD pipeline with green badges
            
            ### Technical Implementation
            - âœ… Backend: Python FastAPI with async processing
            - âœ… Frontend: React with TypeScript and Tailwind CSS
            - âœ… Data Sources: BBC, CNN, technology, science, business feeds
            - âœ… Cultural Evolution: Agents evolve based on real-world events
            - âœ… Future Projection: Creates a "future version" of civilization
            
            ### API Endpoints
            - `GET /stimuli/status` - System status and metrics
            - `GET /stimuli/active` - Current active stimuli
            - `GET /stimuli/by-type/{type}` - Filtered stimuli
            - `POST /stimuli/fetch` - Manual refresh
            - `GET /stimuli/divergence` - Cultural evolution analysis
            
            ### Ready to Use
            The Cognisphere is now ready to create a "future version" of civilization!
            
            ğŸŒ **Start your digital civilization evolution today!**
          draft: false
          prerelease: false
          generate_release_notes: true
        env:
          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
      
      - name: Success
        run: |
          echo "ğŸ‰ Release created successfully!"
          echo "âœ… GitHub Release: Created"
          echo "âœ… Release Notes: Generated"
          echo "âœ… The Cognisphere v${{ github.ref_name }} is ready!"
